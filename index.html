<!DOCTYPE html>
<html lang="pl">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta
			name="description"
			content="Strona internetowa Jana Markanicza - studenta ekonomii, zainteresowanego finansami i ekonomią."
		/>
		<meta
			name="keywords"
			content="Jan Markanicz, ekonomia, finanse, studenci, Uniwersytet Gdański"
		/>
		<title>Jan Markanicz | Home</title>
		<link rel="stylesheet" type="text/css" href="style.css" />
		<link rel="shortcut icon" href="janzdj.ico" type="image/x-icon" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
		/>
	</head>
	<body>
		<header>
			<h1>Witaj na mojej stronie</h1>
			<p>Jan Markanicz</p>
		</header>

		<div class="container">
			<section id="about">
				<h2>O mnie</h2>
				<p>
					Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex delectus
					voluptatibus facilis suscipit eveniet consequatur quia incidunt aut.
					Distinctio deserunt, quisquam illo rerum ducimus inventore quod a
					officiis minus cupiditate sit aliquam explicabo beatae, odio minima
					fuga excepturi, impedit totam praesentium repellendus assumenda eius
					ipsa? Ut quas eveniet minima ab.
					<a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
						>Kliknij tutaj</a
					>
				</p>
			</section>

			<section id="career">
				<h2>Dotychczasowa kariera</h2>
				<p>
					Lorem ipsum dolor sit amet consectetur, adipisicing elit. Explicabo
					molestias nam repudiandae tenetur placeat sed asperiores
					reprehenderit. Eveniet at deserunt vero inventore cum cumque? Culpa,
					tempora? Fuga et accusamus deserunt aperiam hic molestias nostrum
					quibusdam rerum, provident suscipit dolor, quae commodi iure, odio
					non. Placeat temporibus reiciendis accusamus blanditiis fugiat?
				</p>
			</section>

			<section id="exchange-rates">
				<h2>Kursy</h2>

				<script>
					const nbpApiUrl = 'https://api.nbp.pl/api/exchangerates/rates/A/USD';

					fetch(nbpApiUrl)
						.then((response) => response.json())
						.then((data) => {
							const usdRateElement = document.createElement('p');
							usdRateElement.textContent = `Kurs USD: ${data.rates[0].mid}`;
							document
								.getElementById('exchange-rates')
								.appendChild(usdRateElement);
						})
						.catch((error) => {
							console.error('Błąd podczas pobierania danych z API NBP:', error);
							const errorElement = document.createElement('p');
							errorElement.textContent = 'Błąd pobierania kursu';
							document
								.getElementById('exchange-rates')
								.appendChild(errorElement);
						});
				</script>

				<script>
					var btcPlnOptions = {
						method: 'GET',
						url: 'https://api.zondacrypto.exchange/rest/trading/stats/BTC-PLN',
						headers: { 'content-type': 'application/json' },
					};

					request(btcPlnOptions, function (error, response, body) {
						if (error) throw new Error(error);

						var data = JSON.parse(body);
						const btcPlnRateElement = document.createElement('p');
						btcPlnRateElement.textContent = `Kurs BTC-PLN: Highest Rate - ${data.h}, Lowest Rate - ${data.l}, Volume - ${data.v}, Opening Rate - ${data.r24h}`;
						document
							.getElementById('exchange-rates')
							.appendChild(btcPlnRateElement);
					});
				</script>

				<script>
					function getHighestRate() {
						var xhr = new XMLHttpRequest();
						var tradingPair = 'ETH-PLN';

						var endpoint =
							'https://api.zondacrypto.exchange/rest/trading/stats/' +
							tradingPair;

						xhr.open('GET', endpoint, true);

						xhr.onreadystatechange = function () {
							if (xhr.readyState == 4) {
								if (xhr.status == 200) {
									var data = JSON.parse(xhr.responseText);

									if (data && data.status === 'Ok' && data.stats) {
										var highestRate = data.stats.h;
										var ethPlnRateElement = document.createElement('p');
										ethPlnRateElement.textContent = `Najwyższy kurs ETH-PLN z ostatnich 24 godzin: ${highestRate} PLN`;
										document
											.getElementById('exchange-rates')
											.appendChild(ethPlnRateElement);
									} else {
										console.error('API data structure error');
									}
								} else {
									console.error(
										'API request error. Status code: ' + xhr.status
									);
								}
							}
						};

						xhr.send();
					}

					getHighestRate();
				</script>
			</section>

			<section id="contact">
				<h2>Kontakt</h2>
				<p>
					Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ab delectus
					velit neque possimus repudiandae quibusdam, id minus repellat
					obcaecati perferendis pariatur tempora earum tenetur quia ullam optio
					provident quod quae.
					<a
						href="https://www.linkedin.com/in/janmarkanicz/"
						class="fa fa-linkedin"
					></a>
					<a href="https://github.com/jaxonik" class="fa fa-github"></a>
				</p>
			</section>
		</div>
	</body>
</html>
